<meta charset="utf-8">
<title>Franchise Notebook w3</title>
<!--
 _______  ______ _______ __   _ _______ _     _ _____ _______ _______
 |______ |_____/ |_____| | \  | |       |_____|   |   |______ |______
 |       |    \_ |     | |  \_| |_____  |     | __|__ ______| |______
                                                                     
 _______  _____                                                      
 |______ |   __| |                                                   
 ______| |____\| |_____                                              
                                                                     
 __   _  _____  _______ _______ ______   _____   _____  _     _      
 | \  | |     |    |    |______ |_____] |     | |     | |____/       
 |  \_| |_____|    |    |______ |_____] |_____| |_____| |    \_      
                                                                     
-->
<style>
body {
  font-family: sans-serif;
  padding: 100px;
  background: #f7f7f7;
}
iframe {
  position: absolute;
  top: -10000px;
  left: -10000px;
}
a {
  font-size: large;
}


#click {
  background: #2257d9;
    padding: 20px;
    color: white;
    text-decoration: none;
    border-radius: 3px;
}

/*https://projects.lukehaas.me/css-loaders/*/
.loader,
.loader:after {
  border-radius: 50%;
  width: 10em;
  height: 10em;
}
.loader {
  margin: 60px auto;
  font-size: 10px;
  position: relative;
  text-indent: -9999em;
  border-top: 1.1em solid rgba(34,87,217, 0.2);
  border-right: 1.1em solid rgba(34,87,217, 0.2);
  border-bottom: 1.1em solid rgba(34,87,217, 0.2);
  border-left: 1.1em solid #2257d9;
  -webkit-transform: translateZ(0);
  -ms-transform: translateZ(0);
  transform: translateZ(0);
  -webkit-animation: load8 1.1s infinite linear;
  animation: load8 1.1s infinite linear;
}
@-webkit-keyframes load8 {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@keyframes load8 {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

</style>

<div class="loader" id="loader">Loading Franchise...</div>

<center><a id="click" style="display:none" href="https://franchise.cloud/app/" target="_blank">Click here to open Franchise SQL Notebook</a></center>
<script type="text/javascript">
const DATA = "{\"state\":{\"config\":{},\"connect\":{\"active\":\"sqlite\",\"status\":\"unconfigured\"},\"trash\":{\"open\":false,\"cells\":[]},\"deltas\":{\"open\":false,\"changes\":[]},\"notebook\":{\"layout\":[{\"rowId\":\"rr0jtp\",\"items\":[{\"query\":\"Brock DSL SQL Workshop Week 3\\n\\nContent\\n- Group By\\n- Set operations\\n- Sub queries\",\"id\":\"s96lz7\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"r6p7e0\",\"items\":[{\"query\":\"In this lesson we will be looking at additional means of writing queries. First we will cover 'grouping' which lets you produce summary data over a group of your choosing.\\n\\nWe will be continuing to use the NorthWind database, so feel free to consult its organization here: https://raw.githubusercontent.com/jpwhite3/northwind-SQLite3/master/images/Northwind_ERD.png \",\"id\":\"s8feey\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"l0p13bi\",\"items\":[{\"query\":\"drop table if exists t1;\\ncreate table t1 (\\n  phase text,\\n  name text\\n);\\ninsert into t1 values \\n('liquid','water'), ('liquid','coffee'), ('liquid','milk'),\\n('solid','sand'), ('solid','metal'), ('solid','ice'),\\n('gas','nitrogen'), ('gas','oxygen'), ('gas','co2'),('gas','argon'),('gas','helium');\\nselect * from t1;\",\"id\":\"80inkz9\",\"error\":null,\"loading\":false,\"result\":{\"columns\":[\"phase\",\"name\"],\"values\":[[\"liquid\",\"water\"],[\"liquid\",\"coffee\"],[\"liquid\",\"milk\"],[\"solid\",\"sand\"],[\"solid\",\"metal\"],[\"solid\",\"ice\"],[\"gas\",\"nitrogen\"],[\"gas\",\"oxygen\"],[\"gas\",\"co2\"],[\"gas\",\"argon\"],[\"gas\",\"helium\"]]}}]},{\"rowId\":\"rlbsdt\",\"items\":[{\"query\":\"Aggregate functions that are applied on the group level are AVG, MIN, MAX, COUNT, and SUM. In this example the column 'phase' was chosen for grouping and the COUNT function was applied to produce a total. \",\"id\":\"sp8lj8\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"pcf3bm2\",\"items\":[{\"query\":\"-- avg, min, max, count, sum can be applied on the group level\\nselect phase, count(name) from t1 group by phase;\",\"id\":\"0zu4oqc\",\"error\":null,\"suggestedName\":\"query1\",\"loading\":false,\"result\":{\"nameable\":true,\"columns\":[\"phase\",\"count(name)\"],\"values\":[[\"gas\",5],[\"liquid\",3],[\"solid\",3]]}}]},{\"rowId\":\"ro5wqr\",\"items\":[{\"query\":\"Grouping doesn't need to be just on a single column but can be a combination of columns as well.\",\"id\":\"sngc0g\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"ft71ypb\",\"items\":[{\"query\":\"select country,city from \\\"Suppliers\\\";\\n\",\"id\":\"bu9vqi9\",\"error\":null,\"suggestedName\":\"query2\",\"loading\":false,\"result\":{\"nameable\":true,\"columns\":[\"Country\",\"City\"],\"values\":[[\"UK\",\"London\"],[\"USA\",\"New Orleans\"],[\"USA\",\"Ann Arbor\"],[\"Japan\",\"Tokyo\"],[\"Spain\",\"Oviedo\"],[\"Japan\",\"Osaka\"],[\"Australia\",\"Melbourne\"],[\"UK\",\"Manchester\"],[\"Sweden \",\"Göteborg\"],[\"Brazil\",\"São Paulo\"],[\"Germany\",\"Berlin\"],[\"Germany\",\"Frankfurt\"],[\"Germany\",\"Cuxhaven\"],[\"Italy\",\"Ravenna\"],[\"Norway\",\"Sandvika\"],[\"USA\",\"Bend\"],[\"Sweden\",\"Stockholm\"],[\"France\",\"Paris\"],[\"USA\",\"Boston\"],[\"Singapore\",\"Singapore\"],[\"Denmark\",\"Lyngby\"],[\"Netherlands\",\"Zaandam\"],[\"Finland\",\"Lappeenranta\"],[\"Australia\",\"Sydney\"],[\"Canada\",\"Montréal\"],[\"Italy\",\"Salerno\"],[\"France\",\"Montceau\"],[\"France\",\"Annecy\"],[\"Canada\",\"Ste-Hyacinthe\"]]}}]},{\"rowId\":\"2j0el61\",\"items\":[{\"query\":\"select count(\\\"Address\\\"),\\\"Country\\\",\\\"City\\\"\\nfrom \\\"Suppliers\\\"\\nGROUP BY \\\"Country\\\",\\\"City\\\";\",\"id\":\"o8ezwp0\",\"error\":null,\"suggestedName\":\"query3\",\"loading\":false,\"result\":{\"nameable\":true,\"columns\":[\"count(\\\"Address\\\")\",\"Country\",\"City\"],\"values\":[[1,\"Australia\",\"Melbourne\"],[1,\"Australia\",\"Sydney\"],[1,\"Brazil\",\"São Paulo\"],[1,\"Canada\",\"Montréal\"],[1,\"Canada\",\"Ste-Hyacinthe\"],[1,\"Denmark\",\"Lyngby\"],[1,\"Finland\",\"Lappeenranta\"],[1,\"France\",\"Annecy\"],[1,\"France\",\"Montceau\"],[1,\"France\",\"Paris\"],[1,\"Germany\",\"Berlin\"],[1,\"Germany\",\"Cuxhaven\"],[1,\"Germany\",\"Frankfurt\"],[1,\"Italy\",\"Ravenna\"],[1,\"Italy\",\"Salerno\"],[1,\"Japan\",\"Osaka\"],[1,\"Japan\",\"Tokyo\"],[1,\"Netherlands\",\"Zaandam\"],[1,\"Norway\",\"Sandvika\"],[1,\"Singapore\",\"Singapore\"],[1,\"Spain\",\"Oviedo\"],[1,\"Sweden\",\"Stockholm\"],[1,\"Sweden \",\"Göteborg\"],[1,\"UK\",\"London\"],[1,\"UK\",\"Manchester\"],[1,\"USA\",\"Ann Arbor\"],[1,\"USA\",\"Bend\"],[1,\"USA\",\"Boston\"],[1,\"USA\",\"New Orleans\"]]}}]},{\"rowId\":\"rkhjqq\",\"items\":[{\"query\":\"The HAVING keyword is like a WHERE but specified for groups (GROUP BY). It filters out what will be included in the resulting groups. \",\"id\":\"s8p4lw\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"9z3bk9w\",\"items\":[{\"query\":\"select count(\\\"Address\\\"),\\\"Country\\\"\\nfrom \\\"Suppliers\\\"\\nGROUP BY \\\"Country\\\"\\nhaving count(\\\"Address\\\") > 2;\",\"id\":\"tprs4wm\",\"error\":null,\"suggestedName\":\"query4\",\"loading\":false,\"selected\":\"table\",\"result\":{\"nameable\":true,\"columns\":[\"count(\\\"Address\\\")\",\"Country\"],\"values\":[[3,\"France\"],[3,\"Germany\"],[4,\"USA\"]]}}]},{\"rowId\":\"rgaltn\",\"items\":[{\"query\":\"Can you write a query that returns the number of Customers in each city?\",\"id\":\"smv655\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"rfe6v9\",\"items\":[{\"id\":\"sejsse\",\"loading\":false}]},{\"rowId\":\"rb53h6\",\"items\":[{\"query\":\"What about a query that returns the number of Products under each Category? Hint: A join is required here. \",\"id\":\"sgpx0b\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"rkbk3y\",\"items\":[{\"id\":\"sef6sj\",\"loading\":false}]},{\"rowId\":\"rdxdk6\",\"items\":[{\"query\":\"Next we are going to look at what are known as 'set' operations. Here is a view of the tables we will be experimenting with. Set operations are used when we want to operate on two or more queries and we want to combine the results in some way. \",\"id\":\"sbylvd\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"nwxr5y9\",\"items\":[{\"query\":\"select distinct(\\\"Country\\\") from \\\"Suppliers\\\";\",\"id\":\"39lx8nu\",\"error\":null,\"suggestedName\":\"query6\",\"loading\":false,\"result\":{\"nameable\":true,\"columns\":[\"Country\"],\"values\":[[\"UK\"],[\"USA\"],[\"Japan\"],[\"Spain\"],[\"Australia\"],[\"Sweden \"],[\"Brazil\"],[\"Germany\"],[\"Italy\"],[\"Norway\"],[\"Sweden\"],[\"France\"],[\"Singapore\"],[\"Denmark\"],[\"Netherlands\"],[\"Finland\"],[\"Canada\"]]}},{\"query\":\"select distinct(\\\"Country\\\") from \\\"Customers\\\";\",\"id\":\"s8shu6\",\"error\":null,\"suggestedName\":\"query8\",\"loading\":false,\"result\":{\"nameable\":true,\"columns\":[\"Country\"],\"values\":[[\"Germany\"],[\"Mexico\"],[\"UK\"],[\"Sweden\"],[\"France\"],[\"Spain\"],[\"Canada\"],[\"Argentina\"],[\"Switzerland\"],[\"Brazil\"],[\"Austria\"],[\"Italy\"],[\"Portugal\"],[\"USA\"],[\"Venezuela\"],[\"Ireland\"],[\"Belgium\"],[\"Norway\"],[\"Denmark\"],[null],[\"Finland\"],[\"Poland\"]]}}]},{\"rowId\":\"r5fcr4\",\"items\":[{\"query\":\"Set operations are UNION, INTERSECT, and EXCEPT. UNION includes the resulting rows from both queries. INTERSECT returns rows that are in both queries only. EXCEPT returns rows that are in the first query but not the second. \",\"id\":\"sglgfm\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"ieikudr\",\"items\":[{\"query\":\"select \\\"Country\\\" from \\\"Suppliers\\\"\\nunion\\nselect \\\"Country\\\" from \\\"Customers\\\";\",\"id\":\"yg8y0eu\",\"error\":null,\"loading\":false,\"result\":{\"columns\":[\"Country\"],\"values\":[[null],[\"Argentina\"],[\"Australia\"],[\"Austria\"],[\"Belgium\"],[\"Brazil\"],[\"Canada\"],[\"Denmark\"],[\"Finland\"],[\"France\"],[\"Germany\"],[\"Ireland\"],[\"Italy\"],[\"Japan\"],[\"Mexico\"],[\"Netherlands\"],[\"Norway\"],[\"Poland\"],[\"Portugal\"],[\"Singapore\"],[\"Spain\"],[\"Sweden\"],[\"Sweden \"],[\"Switzerland\"],[\"UK\"],[\"USA\"],[\"Venezuela\"]]}},{\"query\":\"select \\\"Country\\\" from \\\"Suppliers\\\"\\nintersect\\nselect \\\"Country\\\" from \\\"Customers\\\";\",\"id\":\"svljbk\",\"error\":null,\"loading\":false,\"result\":{\"columns\":[\"Country\"],\"values\":[[\"Brazil\"],[\"Canada\"],[\"Denmark\"],[\"Finland\"],[\"France\"],[\"Germany\"],[\"Italy\"],[\"Norway\"],[\"Spain\"],[\"Sweden\"],[\"UK\"],[\"USA\"]]}},{\"query\":\"select \\\"Country\\\" from \\\"Suppliers\\\"\\nEXCEPT\\nselect \\\"Country\\\" from \\\"Customers\\\";\",\"id\":\"st81e3\",\"error\":null,\"loading\":false,\"result\":{\"columns\":[\"Country\"],\"values\":[[\"Australia\"],[\"Japan\"],[\"Netherlands\"],[\"Singapore\"],[\"Sweden \"]]}}]},{\"rowId\":\"rkxa30\",\"items\":[{\"query\":\"Write a query using a set operator that returns all of the cities where an Employee and a Customer reside.\",\"id\":\"smr38t\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"ayo0xl0\",\"items\":[{\"query\":\"It may have been a bit surprising seeing two select statements alongside each other, but did you know you can have a select statement within a select statement?! This is known as a 'sub query'.\\n\\nIn the next example we want to find the ContactName and the total number of products ordered, as long as the customer has ordered more than 300 units of products.\\n\\n1. First a query is produced that gives us the total number of products ordered for each customer.\\n2. The results of this query are then joined with the customer table to give us the ContactNames. \",\"id\":\"5h1dzus\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"fq69433\",\"items\":[{\"query\":\"-- customer id and # of products ordered  \\nselect orders.\\\"CustomerID\\\", SUM(\\\"Order Details\\\".\\\"Quantity\\\" ) as total_products\\nfrom orders \\njoin \\\"Order Details\\\"\\non orders.\\\"orderid\\\" = \\\"Order Details\\\".\\\"OrderID\\\"\\nGROUP BY orders.\\\"CustomerID\\\"\\n\",\"id\":\"wqc1axq\",\"error\":null,\"suggestedName\":\"query9\",\"loading\":false,\"result\":{\"columns\":[\"CustomerID\",\"total_products\"],\"values\":[[\"ALFKI\",174],[\"ANATR\",63],[\"ANTON\",359],[\"AROUT\",650],[\"BERGS\",1001],[\"BLAUS\",140],[\"BLONP\",666],[\"BOLID\",190],[\"BONAP\",980],[\"BOTTM\",956],[\"BSBEV\",293],[\"CACTU\",115],[\"CENTC\",11],[\"CHOPS\",465],[\"COMMI\",133],[\"CONSH\",87],[\"DRACD\",160],[\"DUMON\",80],[\"EASTC\",569],[\"ERNSH\",4543],[\"FAMIA\",357],[\"FOLIG\",354],[\"FOLKO\",1234],[\"FRANK\",1525],[\"FRANR\",69],[\"FRANS\",54],[\"FURIB\",349],[\"GALED\",42],[\"GODOS\",395],[\"GOURL\",315],[\"GREAL\",345],[\"GROSR\",34],[\"HANAR\",839],[\"HILAA\",1096],[\"HUNGC\",122],[\"HUNGO\",1684],[\"ISLAT\",295],[\"KOENE\",903],[\"LACOR\",83],[\"LAMAI\",442],[\"LAUGB\",62],[\"LAZYK\",20],[\"LEHMS\",794],[\"LETSS\",181],[\"LILAS\",836],[\"LINOD\",970],[\"LONEP\",134],[\"MAGAA\",433],[\"MAISD\",320],[\"MEREP\",966],[\"MORGK\",172],[\"NORTS\",30],[\"OCEAN\",132],[\"OLDWO\",603],[\"OTTIK\",639],[\"PERIC\",208],[\"PICCO\",624],[\"PRINI\",184],[\"QUEDE\",394],[\"QUEEN\",1031],[\"QUICK\",3961],[\"RANCH\",92],[\"RATTC\",1383],[\"REGGC\",335],[\"RICAR\",660],[\"RICSU\",810],[\"ROMEY\",91],[\"SANTG\",161],[\"SAVEA\",4958],[\"SEVES\",818],[\"SIMOB\",378],[\"SPECD\",48],[\"SPLIR\",327],[\"SUPRD\",1072],[\"THEBI\",46],[\"THECR\",59],[\"TOMSP\",253],[\"TORTU\",384],[\"TRADH\",251],[\"TRAIH\",89],[\"VAFFE\",792],[\"VICTE\",434],[\"VINET\",98],[\"WANDK\",492],[\"WARTH\",737],[\"WELLI\",267],[\"WHITC\",1063],[\"WILMK\",148],[\"WOLZA\",205]]}},{\"query\":\"select \\\"ContactName\\\", t.\\\"total_products\\\"\\nfrom \\n(\\n\\t select orders.\\\"CustomerID\\\", SUM(\\\"Order Details\\\".\\\"Quantity\\\" ) as total_products\\n\\t from orders \\n\\t join \\\"Order Details\\\"\\n\\t on orders.\\\"orderid\\\" = \\\"Order Details\\\".\\\"OrderID\\\"\\n\\t GROUP BY orders.\\\"CustomerID\\\"\\n  \\t \\n) as t\\njoin customers on t.customerid = customers.customerid\\nwhere t.\\\"total_products\\\" > 300;\",\"id\":\"s9678u\",\"error\":null,\"suggestedName\":\"query10\",\"loading\":false,\"result\":{\"nameable\":true,\"columns\":[\"ContactName\",\"total_products\"],\"values\":[[\"Antonio Moreno\",359],[\"Thomas Hardy\",650],[\"Christina Berglund\",1001],[\"Frédérique Citeaux\",666],[\"Laurence Lebihan\",980],[\"Elizabeth Lincoln\",956],[\"Yang Wang\",465],[\"Ann Devon\",569],[\"Roland Mendel\",4543],[\"Aria Cruz\",357],[\"Martine Rancé\",354],[\"Maria Larsson\",1234],[\"Peter Franken\",1525],[\"Lino Rodriguez\",349],[\"José Pedro Freyre\",395],[\"André Fonseca\",315],[\"Howard Snyder\",345],[\"Mario Pontes\",839],[\"Carlos Hernández\",1096],[\"Patricia McKenna\",1684],[\"Philip Cramer\",903],[\"Annette Roulet\",442],[\"Renate Messner\",794],[\"Carlos González\",836],[\"Felipe Izquierdo\",970],[\"Giovanni Rovelli\",433],[\"Catherine Dewey\",320],[\"Jean Fresnière\",966],[\"Rene Phillips\",603],[\"Henriette Pfalzheim\",639],[\"Georg Pipps\",624],[\"Bernardo Batista\",394],[\"Lúcia Carvalho\",1031],[\"Horst Kloss\",3961],[\"Paula Wilson\",1383],[\"Maurizio Moroni\",335],[\"Janete Limeira\",660],[\"Michael Holz\",810],[\"Jose Pavarotti\",4958],[\"Hari Kumar\",818],[\"Jytte Petersen\",378],[\"Art Braunschweiger\",327],[\"Pascale Cartrain\",1072],[\"Miguel Angel Paolino\",384],[\"Palle Ibsen\",792],[\"Mary Saveley\",434],[\"Rita Müller\",492],[\"Pirkko Koskitalo\",737],[\"Karl Jablonski\",1063]]}}]},{\"rowId\":\"wsgskt1\",\"items\":[{\"query\":\"Can you write a query that uses a sub query, to find out the Supplier contact name and phone number of any supplier that has a product out of stock?\\n\\nHint: You can write this query either using a JOIN or with IN. \",\"id\":\"ojqg2sa\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"7stftoi\",\"items\":[{\"query\":\"\",\"id\":\"81mvhej\",\"loading\":false}]},{\"rowId\":\"waexccp\",\"items\":[{\"query\":\"What Supplier provides Products in the broadest number of Categories?\",\"id\":\"dvu2qy9\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"rm47he\",\"items\":[{\"id\":\"s2bv31\",\"loading\":false}]},{\"rowId\":\"sr71mt3\",\"items\":[{\"query\":\"Find the SupplierID that have more than three Products with a UnitPrice of $5. Also show the count of these Products as a column.\",\"id\":\"i2vk9j9\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"ryxzgl\",\"items\":[{\"id\":\"s1qina\",\"loading\":false}]},{\"rowId\":\"1uwz5k0\",\"items\":[{\"query\":\"Now find the CompanyName, ContactName, and Phone of these Suppliers.\",\"id\":\"47ocr8w\",\"loading\":false,\"markdown\":true}]},{\"rowId\":\"ftzbo2h\",\"items\":[{\"query\":\"\",\"id\":\"zzfdvk3\",\"loading\":false}]}],\"forceRenderToken\":98}},\"autoconnect\":false,\"version\":2}";
</script>

<script type="text/javascript">
function sendData(target, src){
  console.log(src)
  if(typeof DATA != 'undefined'){
    target.postMessage(DATA, '*')    
  }
}

window.addEventListener("message", function(e){
  console.log(e.data)
  if(e.data == 'franchise-request-import'){
    e.source.postMessage({ action: 'franchise-import', data: DATA }, '*')
  }
}, false)

setTimeout(function(){
  if(typeof DATA != 'undefined'){
    document.getElementById('click').style.display = ''
    document.getElementById('loader').style.display = 'none'
  }
}, 1500);
</script>

<iframe src="http://localhost:3000/reciever.html" onload="sendData(this.contentWindow, this.src)"></iframe>
<iframe src="https://franchise.cloud/app/reciever.html" onload="sendData(this.contentWindow, this.src)"></iframe>